(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/maintenanceList/maintenanceList"],{"207f":function(t,e,n){"use strict";(function(t){n("629e");r(n("66fd"));var e=r(n("4463"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"2c85":function(t,e,n){"use strict";n.r(e);var r=n("e5d1"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},3956:function(t,e,n){},4463:function(t,e,n){"use strict";n.r(e);var r=n("d0ab"),i=n("2c85");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("9bd8");var a,c=n("f0c5"),s=Object(c["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);e["default"]=s.exports},"9bd8":function(t,e,n){"use strict";var r=n("3956"),i=n.n(r);i.a},d0ab:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var r=t.__get_orig(e),i={id:e.id,index:n};return{$orig:r,a0:i}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[]},e5d1:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("26cb");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function s(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={data:function(){return{list:[],tabCur:0,mainCur:0,verticalNavTop:0,load:!0,phone:{title:"苹果",name:"iphone12ProMax"},goodsList:[],currentGoodId:"",forkMaintenance:[]}},onLoad:function(e){var n=this;if(Object.keys(e).length>0){var r=JSON.parse(decodeURIComponent(e.phone));r["title"]=e.title,this.phone=r}t.showLoading({title:"加载中...",mask:!0}),this.$request({url:"/phoneReparisServer/service/rest/login.customerService/collection/getCategoryTwo",methods:"GET",data:{categoryId:this.phone.id}}).then((function(t){console.log(t),n.list=t,n.getGoods(n.list[0].id)})).catch((function(t){console.log(t)})),this.listCur=this.list[0]},onReady:function(){t.hideLoading()},computed:(0,r.mapState)({maintenanceList:function(t){return t.goods.maintenanceList}}),methods:{navigateOrderSuccess:function(){var e,n=!1,r=c(this.maintenanceList);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.selected&&(n=!0)}}catch(o){r.e(o)}finally{r.f()}n?t.navigateTo({url:"../reserve/reserve"}):t.showModal({content:"目前没有选择方案,请选择再下单～",showCancel:!1,success:function(t){t.confirm||t.cancel}})},addShopping:function(t,e){if(console.log("status",e),this.forkMaintenance.length>0)for(var n in this.forkMaintenance)this.forkMaintenance[n].title===t.title&&(0===n?this.forkMaintenance.pop():this.forkMaintenance.splice(n,1));this.forkMaintenance.push(o(o({},t),{},{selected:e})),this.$store.dispatch("shoppingTrigger",{key:"maintenanceList",value:this.forkMaintenance})},changePhone:function(){t.navigateTo({url:"../phoneModel/phoneModel"})},TabSelect:function(t){this.tabCur=t.currentTarget.dataset.item.index,this.mainCur=t.currentTarget.dataset.item.index,this.verticalNavTop=50*(t.currentTarget.dataset.item.index-1),this.currentGoodId=t.currentTarget.dataset.item.id,this.getGoods(this.currentGoodId)},getGoods:function(t){var e=this;this.$request({url:"/phoneReparisServer/service/rest/login.customerService/collection/getAllServiceGoods",methods:"GET",data:{page:1,rows:20,categoryId:"0136673507f5442a820c2742ee7e5c37"}}).then((function(t){var n={message:"成功",totalCount:7,page:1,pageSize:20,data:'[{"id":"2ca6245c588640b4a0e7748a282d84af","createTime":"2021-10-27 20:14:50","subTitle":"摄像头问题","title":"摄像头问题","price":100,"description":"<strong>保修一年<\\/strong>","salePrice":80,"code":"00006140","pictureId":"70e94e91c1e343529f6e3129a95d1fdf"}]',javaClass:"com.caomei.xinxikeji.util.ResultInfo",code:0,totalPage:1};e.goodsList=JSON.parse(n.data),0===e.maintenanceList.length?(e.forkMaintenance=e.goodsList.map((function(t){return o(o({},t),{},{selected:!1})})),e.$store.dispatch("shoppingTrigger",{key:"maintenanceList",value:e.forkMaintenance})):e.forkMaintenance=e.maintenanceList}))},VerticalMain:function(e){var n=this,r=0;if(this.load){for(var i=function(e){var i=t.createSelectorQuery().select("#main-"+n.list[e].id);i.fields({size:!0},(function(t){n.list[e].top=r,r+=t.height,n.list[e].bottom=r})).exec()},o=0;o<this.list.length;o++)i(o);this.load=!1}for(var a=e.detail.scrollTop+10,c=0;c<this.list.length;c++)if(a>this.list[c].top&&a<this.list[c].bottom)return this.verticalNavTop=50*(this.list[c].id-1),this.tabCur=this.list[c].id,console.log(a),!1}}};e.default=l}).call(this,n("543d")["default"])}},[["207f","common/runtime","common/vendor"]]]);